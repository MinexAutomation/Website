<!DOCTYPE html>
<html>

<head>
    <script src="js/three.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/dat.gui.min.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>
    <script src="js/TrackballControls.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/FirstPersonControls.js"></script>
    <script src="js/FlyControls.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modal-style.css">
    <style>
        body {
            margin: 0;
            overflow: hidden;

            color: red;
        }
    </style>
</head>

<body>
    <div id="BlockUntilLoaded">
        <p>Loading...</p>
    </div>
    <div id="WebGL-Output"></div>
    <div id="Stats-Output"></div>
    <div id="LeftFloat">
        <div id="Control-Box">
            <div class="Controls">
                <p id="WebGlDetectedP"></p>
            </div>
            <div class="Controls">
                <p>Move with:</p>
                <p>A, D, W, S, R, F</p>
                <p>-or-</p>
                <p>Arrow keys, shift, control</p>
            </div>
            <div class="Controls">
                <p>Light</p>
                <div class="Control-Button" id="Light-On-Off" onclick="toggleLight()">
                    On/Off
                </div>
                <div class="Control-Button" id="Light-Oscillate" onclick="toggleLightOscillation()">
                    Oscillate
                </div>
                <!-- <div id="Light-X-Up"></div> -->
            </div>
            <div class="Controls">
                <p>Selection</p>
                <div class="Control-Button" id="Selection-On-Off" onclick="toggleSelection()">
                    On/Off
                </div>
            </div>
            <div class="Controls">
                <p>Volume Selection</p>
                <div class="Control-Button" id="VolumeSelectionOnOff" onclick="toggleVolumeSelection()">
                    On/Off
                </div>
                <div class="Control-Button" id="Selector1OnOff" onclick="toggleSelector1()">
                    Selector1
                </div>
                <div class="Control-Button" id="Selector2OnOff" onclick="toggleSelector2()">
                    Selector2
                </div>
            </div>
        </div>
        <div id="simpleModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <span id="modalCloseButton" class="close-btn">&times;</span>
                    <h2>Point of Interest</h2>
                </div>
                <div class="modal-body">
                    <form id="pointOfInterestAnnotationForm">
                        <div>
                            <label for="pointOfInterestName">Name</label>
                            <input type="text" id="pointOfInterestName" name="name" placeholder="...">
                        </div>
                        <div>
                            <label for="selectedPointAnnotation">Description</label>
                            <textarea id="selectedPointAnnotation" name="annotation" rows="8" placeholder="..."></textarea>
                        </div>
                        <button type="submit" class="btn">Save</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <h3>Simple Point of Interest</h3>
                </div>
            </div>
        </div>
    </div>

    <script src="js/initialize.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/controls-lights.js"></script>
    <script src="js/controls-selection.js"></script>
    <script src="js/controls-volumeSelection.js"></script>
    <script src="js/modal-selection.js"></script>
    <script src="js/scratch.js"></script>
    <script src="js/main.js"></script>
</body>
<script>
    // Sets up the scene.
    function init() {
        initializeSite();

        var step = 0;
        var increment = 0.05;
        var offset = getOffset(step);
        render();

        // Renders the scene and updates the render as needed.
        function render() {
            // console.log(scene);

            if (siteData.stats !== undefined) {
                siteData.stats.update();
            }

            var delta = siteData.clock.getDelta();
            siteData.cameraControls.update(delta);

            if (lightOscillation) {
                step += increment;
            }
            var newOffset = getOffset(step);
            var xIncrement = newOffset - offset;
            offset = newOffset;
            moveLight(xIncrement, 0, 0);

            // Read more about requestAnimationFrame at http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/
            requestAnimationFrame(render);

            // Render the scene.
            siteData.renderer.render(siteData.scene, siteData.camera);
        }

        function getOffset(step) {
            var offset = 10 * Math.sin(step);
            return offset;
        }
    }
    window.onload = init;

</script>

</html>